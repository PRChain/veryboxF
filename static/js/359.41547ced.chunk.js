"use strict";(self.webpackChunkverybox_tools=self.webpackChunkverybox_tools||[]).push([[359],{62446:function(e,t,a){a.d(t,{Z:function(){return c}});a(47313);var s=a(9381),i=a(24240),n=a(80504),r=a(36368),l=a(59017),d=a(46417);function c(){const{t:e}=(0,i.$)(),t=(0,s.v9)((e=>e.blockchain)),a=(0,s.I0)();return(0,d.jsx)(r.Z,{fullWidth:!0,title:e("gasLimit.title"),id:"gasLimit",sx:{mb:0,mt:0,width:"20ch"},label:e("gasLimit.label"),variant:"outlined",size:"small",type:"number",value:t.gasLimit,onChange:e=>{a((0,n.OQ)({gasLimit:parseInt(e.target.value)}))},InputProps:{endAdornment:(0,d.jsx)(l.Z,{position:"end",children:"Gwei"})}})}},21359:function(e,t,a){a.r(t);var s=a(47313),i=a(24240),n=a(83077),r=a(43394),l=a(66356),d=a(9381),c=a(82937),o=a(10383),m=a(91294),x=a(74897),h=a(81962),u=a(36368),g=a(605),p=a(18104),j=a(83719),y=a(11626),Z=a(62463),v=a(35192),P=a(68737),f=a(78611),D=a(35540),b=a(25319),C=a(17201),k=a(25091),w=a(97319),A=a(71247),B=a(33497),S=a(83838),I=a(62111),F=a(32703),H=a(71709),L=a(62446),_=a(46417);a(78466);const T=a(15372);let W=!1,O={},z={addrStr:"",pkStr:"",pkArr:[],addrArr:[]};t.default=function(){const e=(0,d.v9)((e=>e.blockchain)),{t:t}=(0,i.$)(),a=(0,I.Z)(),{CHAIN:N,CHAINID:E}=k.IB[w.Z.get("networkNow")],[G,M]=(0,s.useState)(k.IB[w.Z.get("networkNow")].RPC),[V,K]=(0,s.useState)(new T(new T.providers.HttpProvider(G))),[U,q]=(0,s.useState)(""),[R,X]=(0,s.useState)(1),[$,Q]=(0,s.useState)(20),[J,Y]=(0,s.useState)(0),[ee,te]=(0,s.useState)([{type:"uint256",value:1}]),[ae,se]=(0,s.useState)({addrStr:"",pkStr:"",pkArr:[],addrArr:[]}),[ie,ne]=(0,s.useState)({isOpen:!1,msg:"",nonce:""}),re=e=>{let t=e.target.name.slice(2),a=e.target.value;ee[t].type=a,te(ee),fe()},le=e=>{let t=e.target.id.slice(2),a=e.target.value;ee[t].value=a,te(ee),fe()},[de,ce]=(0,s.useState)(!1),[oe,me]=(0,s.useState)({type:"",msg:null}),[xe,he]=(0,s.useState)(!1),[ue,ge]=(0,s.useState)({type:"",msg:null}),[pe,je]=(0,s.useState)(!1),ye=()=>{let t=setInterval((async()=>{const a=await async function(){const{_estimateGas:t}=(0,A.n)(V,N),a="0xF6Cbda3862e9E95e42aFf439936f3FD5556cF4Be",s=await V.eth.getTransactionCount(a);return await t({from:a,to:U,value:J,gasLimit:e.gasLimit,maxPriorityFeePerGas:R,maxFeePerGas:$,data:Te,nonce:s})}();if(a.error)return clearInterval(t),ne({isOpen:!0,msg:a.error,nonce:parseInt(1e4*Math.random())}),void je(!1);"number"==typeof a&&a<k.Lw&&(clearInterval(t),ae.pkArr.forEach(((t,a)=>{Ze({index:a,timesChange:1,status:"pending..."}),async function(t,a){const{_sendTx:s}=(0,A.n)(V,N),i=Te,n=z.addrArr[a];let r=await V.eth.getTransactionCount(n);O={...O,[n]:r};const l=await s({from:n,to:U,value:J,gasLimit:e.gasLimit,maxPriorityFeePerGas:R,maxFeePerGas:$,data:i,nonce:r,pk:t});let d="";d=Object.keys(l).includes("error")?"\xd7 "+l.error:"\u2713 "+l.transactionHash;Ze({index:a,timesChange:0,status:d})}(t,a),ae.pkArr.length-1==a&&je(!1)})))}),1e3)},Ze=async e=>{let{index:t,timesChange:a,status:s}=e;try{Ce((e=>{let i=[...e];for(let n=0;n<i.length;n++)n==t&&(i[n]={id:i[n].id,address:i[n].address,balance:i[n].balance,times:i[n].times+a,status:s});return i}))}catch(i){}ne({isOpen:!0,msg:s,nonce:parseInt(1e4*Math.random())})},[ve,Pe]=(0,s.useState)([]),fe=()=>{let e=[];ee.forEach(((t,a)=>{e.push((0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(c.ZP,{item:!0,xs:2,children:(0,_.jsxs)(o.Z,{fullWidth:!0,children:[(0,_.jsx)(m.Z,{id:"param_label"+a,size:"small",children:"Param Type"}),(0,_.jsxs)(x.Z,{id:"param_select_"+a,name:"S_"+a,label:"Param Type",labelId:"param_label"+a,size:"small",value:ee[a].type,onChange:re,children:[(0,_.jsx)(h.Z,{value:"address",children:"address"}),(0,_.jsx)(h.Z,{value:"uint8",children:"uint8"}),(0,_.jsx)(h.Z,{value:"uint256",children:"uint256"}),(0,_.jsx)(h.Z,{value:"bool",children:"bool"})]})]})}),(0,_.jsx)(c.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{fullWidth:!0,id:"T_"+a,label:"Param Value",variant:"outlined",size:"small",value:ee[a].value,onChange:le})}),(0,_.jsx)(c.ZP,{item:!0,xs:2,children:(0,_.jsx)(g.Z,{id:a,variant:"outlined",startIcon:(0,_.jsx)(v.Z,{}),onClick:De,children:"Del"})})]})},a))})),Pe(e)},De=e=>{ee.splice(e.target.id,1),te(ee),fe()};(0,s.useEffect)((()=>{fe()}),[]);const[be,Ce]=(0,s.useState)([{id:1,address:"",balance:"",times:"",hash:"No Data",status:"",action:""}]),ke=[{field:"id",hide:!0},{field:"address",headerName:t("mintBy0xData.address"),width:150},{field:"balance",headerName:t("mintBy0xData.amount"),width:80},{field:"times",headerName:t("mintBy0xData.requestTimes"),width:160},{field:"status",headerName:t("mintBy0xData.status"),width:400}],we=async e=>{let t=await Promise.all(e.map((async(e,t)=>{const a=z.addrArr[t],s=await V.eth.getBalance(a);return{id:t+1,address:a,balance:V.utils.fromWei(s,"ether"),times:0,status:"--"}})));Ce(t)},[Ae,Be]=(0,s.useState)(new Date),[Se,Ie]=(0,s.useState)(!1),[Fe,He]=(0,s.useState)(0),[Le,_e]=(0,s.useState)(""),[Te,We]=(0,s.useState)(""),[Oe,ze]=(0,s.useState)([]),[Ne,Ee]=(0,s.useState)(t("mintBy0xData.editHexData")),Ge=async e=>{let t=await V.eth.getTransaction(e);t.from&&Me(t)},Me=e=>{const{to:t,maxPriorityFeePerGas:a,maxFeePerGas:s,value:i,gas:n,gasprice:r,input:l}=e;q(t),X(a?V.utils.fromWei(a,"gwei"):0),Q(s?V.utils.fromWei(s,"gwei"):0),Y(V.utils.fromWei(i)),We(l);const d=Ve(l);ze(d)},Ve=e=>{let t=[];const a=e.length;let s=0,i=10,n=0;for(t[0]=e.slice(0,10),s+=10,i=64,n++;s<a;)t[n]=e.slice(s,s+64),s+=64,n++;return t},[Ke,Ue]=(0,s.useState)([]),qe=()=>{let e=[];Oe.forEach(((a,s)=>{e.push((0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(c.ZP,{container:!0,spacing:2,children:(0,_.jsx)(c.ZP,{item:!0,xs:10,children:(0,_.jsx)(u.Z,{fullWidth:!0,id:"D_"+s,label:t("mintBy0xData.hexDataParam"),variant:"outlined",size:"small",value:Oe[s],onChange:Re})})})},s))})),Ue(e)},Re=e=>{let t=e.target.id.slice(2),a=e.target.value;Oe[t]=a,ze(Oe),We(Oe.join("")),qe()},[Xe,$e]=(0,s.useState)({}),Qe=(e,t)=>{$e((a=>({...a,[e]:t})))},Je=()=>{if(!Ye())return ne({isOpen:!0,msg:"Invalid gasLimit",nonce:parseInt(1e4*Math.random())}),!1;const e=at(Le);if(Qe("transactionHash",!e),!e)return ne({isOpen:!0,msg:"Transaction Hash not valid",nonce:parseInt(1e4*Math.random())}),!1;const t=et(U);if(Qe("contractAddress",!t),!t)return ne({isOpen:!0,msg:"Contract Address required",nonce:parseInt(1e4*Math.random())}),!1;const a="NaN"!=parseFloat(J).toString();if(Qe("ethValue",!a),!a)return ne({isOpen:!0,msg:"Eth Value not valid",nonce:parseInt(1e4*Math.random())}),!1;const s=tt();return Qe("privateKey",!s),s?!!(t&&a&&s&&e):(ne({isOpen:!0,msg:"Private Key required",nonce:parseInt(1e4*Math.random())}),!1)},Ye=()=>Number.isInteger(e.gasLimit)&&e.gasLimit>0,et=e=>""!=e&&V.utils.isAddress(e),tt=()=>ae.pkArr.length>0,at=e=>/0[xX]{1}[ABCDEFabcdef0-9]{64}/g.test(e);return(0,_.jsx)(B.Z,{title:t("mintBy0xData.title"),secondary:(0,_.jsx)(c.ZP,{item:!0,xs:12,style:{textAlign:"right",verticalAlign:"middle",paddingTop:6,paddingBottom:6},children:(0,_.jsx)(p.Z,{"aria-label":"speedUp",onClick:async()=>{Je()&&((0,H.PE)(O)?ne({isOpen:!0,msg:"No transactions need to be speed up",nonce:parseInt(1e4*Math.random())}):(ge({type:"_speedUp",msg:{}}),he(!0)))},sx:{color:a.palette.primary[200]},children:(0,_.jsx)(j.Z,{title:"Speed Up",children:(0,_.jsx)(f.Z,{})})})}),children:(0,_.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(c.ZP,{container:!0,spacing:2,children:(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(D.Z,{action:{changeRPCAction:e=>{e.available&&K(new T(new T.providers.HttpProvider(e.rpc)))}},data:{rpc:G}})})})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(c.ZP,{item:!0,xs:9,sm:9,children:(0,_.jsx)(u.Z,{error:Xe.transactionHash,fullWidth:!0,id:"hash",label:t("mintBy0xData.hash"),variant:"outlined",size:"small",value:Le,onChange:e=>{_e(e.target.value);/0[xX]{1}[ABCDEFabcdef0-9]{64}/g.test(e.target.value)&&Ge(e.target.value)}})}),(0,_.jsx)(c.ZP,{item:!0,xs:1,children:(0,_.jsx)(g.Z,{variant:"text",onClick:()=>{_e("")},children:t("mintBy0xData.hashClear")})})]})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(c.ZP,{item:!0,xs:9,sm:6,children:(0,_.jsx)(u.Z,{error:Xe.contractAddress,fullWidth:!0,id:"contract_address",label:t("mintBy0xData.contractAddress"),variant:"outlined",size:"small",value:U,onChange:e=>{q(e.target.value)}})}),(0,_.jsx)(c.ZP,{item:!0,xs:1,children:(0,_.jsx)(g.Z,{variant:"text",onClick:()=>{q("")},children:t("mintBy0xData.contractAddressClear")})})]})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(c.ZP,{item:!0,xs:12,sm:2,children:(0,_.jsx)(L.Z,{})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,_.jsx)(u.Z,{fullWidth:!0,id:"maxpriorityfeepergas",label:t("mintBy0xData.maxpriorityfeepergas"),variant:"outlined",size:"small",type:"number",value:R,onChange:e=>{X(e.target.value)}})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,_.jsx)(u.Z,{fullWidth:!0,id:"maxfeepergas",label:t("mintBy0xData.maxFee"),variant:"outlined",size:"small",type:"number",value:$,onChange:e=>{Q(e.target.value)}})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,_.jsx)(u.Z,{error:Xe.ethValue,fullWidth:!0,id:"eth_value",label:t("mintBy0xData.ethAmout"),variant:"outlined",size:"small",value:J,onChange:e=>{Y(e.target.value)}})})]})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(c.ZP,{item:!0,xs:10,sm:8,children:(0,_.jsx)(u.Z,{fullWidth:!0,id:"0xData",label:t("mintBy0xData.hexData"),variant:"outlined",size:"small",multiline:!0,rows:4,value:Te,onChange:e=>{We(e.target.value)}})}),(0,_.jsx)(c.ZP,{item:!0,xs:1,children:(0,_.jsx)(g.Z,{variant:"text",onClick:()=>{if(Ee(Ne==t("mintBy0xData.editHexData")?t("mintBy0xData.finishEditHexData"):t("mintBy0xData.editHexData")),Ne==t("mintBy0xData.editHexData")){const e=Ve(Te);ze(e),qe(),Ee(t("mintBy0xData.finishEditHexData"))}else Ue([]),Ee(t("mintBy0xData.editHexData"))},children:Ne})})]})}),Ke,(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(b.Z,{canImportFromVbWallet:!0,setPk:e=>{se(e),z=e,we(e.pkArr)},provider:V,chain:N,title:t("mintBy0xData.importPrivateKeyTitle"),error:Xe.privateKey,storageKey:"mintPk"})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,style:{display:ie.isOpen?" ":"none"},children:(0,_.jsx)(C.Z,{msg:ie.msg,nonce:ie.nonce})},ie.msg),(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(c.ZP,{container:!0,spacing:2,children:(0,_.jsxs)(c.ZP,{item:!0,xs:3,children:[t("mintBy0xData.openTimer"),(0,_.jsx)(y.Z,{checked:Se,onChange:e=>{Ie(e.target.checked),W=e.target.checked}})]})})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,sx:{fontsize:16,display:Se?"flex":"none",mt:1},children:(0,_.jsxs)(c.ZP,{container:!0,spacing:2,sx:{justifyContent:"flex-start",alignItems:"center",border:"solid 1px",borderColor:a.palette.grey[500],borderRadius:2,pb:"16px",ml:0,mr:0},children:[(0,_.jsxs)(c.ZP,{item:!0,sx:{minWidth:120,display:"flex"},children:[t("mintBy0xData.leftTime"),(0,_.jsx)("span",{style:{color:a.palette.secondary.main,paddingLeft:5},children:Fe})]}),(0,_.jsx)(c.ZP,{item:!0,children:(0,_.jsx)(r._,{dateAdapter:n.H,children:(0,_.jsx)(Z.Z,{spacing:3,children:(0,_.jsx)(l.x,{size:"small",hideTabs:!0,value:Ae,onChange:e=>{Be(e)},minDate:new Date("2022-05-1"),renderInput:e=>(0,_.jsx)(u.Z,{...e})})})})})]})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(c.ZP,{container:!0,spacing:2,children:(0,_.jsx)(c.ZP,{item:!0,xs:1,children:(0,_.jsx)(F.Z,{onClick:async()=>{Je()&&(()=>{const t={transactionHash:Le,contractAddress:U,maxPriorityFeePerGas:R,maxFeePerGas:$,addressess:z.addrArr,ethValue:J,HexData:Te,gasLimit:e.gasLimit};me({type:"_mintBy0xData",msg:t}),ce(!0)})()},loading:pe,variant:"contained",children:(0,_.jsx)("span",{children:t("mintBy0xData.execute")})})})})}),(0,_.jsx)(c.ZP,{item:!0,xs:12,style:{height:300,width:"100%"},children:(0,_.jsx)(P._,{rows:be,columns:ke})}),oe.msg&&(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(S.U,{isOpen:de,msg:oe.msg,okAction:async()=>{if(Je())if(je(!0),W){let e=setInterval((()=>{let t=(new Date(Ae).getTime()-Date.now())/1e3;t=t>0?t:0,He(t),0!=W?0==t&&(clearInterval(e),ye()):clearInterval(e)}),100)}else ye()},closeDialog:()=>{ce(!1)},type:oe.type})}),ue.msg&&(0,_.jsx)(c.ZP,{item:!0,xs:12,children:(0,_.jsx)(S.U,{isOpen:xe,msg:ue.msg,okAction:async()=>{je(!0),ae.pkArr.forEach(((t,a)=>{Ze({index:a,timesChange:1,status:"pending..."}),async function(t,a){const{_sendTx:s}=(0,A.n)(V,N),i=Te,n=z.addrArr[a];let r=O[n];O={...O,[n]:r};const l=await s({from:n,to:U,value:J,gasLimit:e.gasLimit,maxPriorityFeePerGas:R,maxFeePerGas:$,data:i,nonce:r,pk:t});let d="";if(Object.keys(l).includes("error")){d="\xd7 "+("nonce too low"==l.error?"Last transaction has ok":l.error)}else d="\u2713 "+l.transactionHash;Ze({index:a,timesChange:0,status:d})}(t,a),ae.pkArr.length-1==a&&je(!1)}))},closeDialog:()=>{he(!1)},type:ue.type})})]})})}}}]);